<html lang="en">
<head>
    <script>
        // If you want to use module loading, add this
        window.addEventListener('DOMContentLoaded', () => {
            const script = document.createElement('script');
            script.type = 'module';
            script.src = 'script.js';
            document.head.appendChild(script);
        });
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edible - Recipes by kids made for kids</title>
    <link rel="icon" type="image/x-icon" href="favicon.png">


    <!-- Linking to GSAP and Particles.js libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <!-- Link to external CSS for styles -->
    <link rel="stylesheet" href="style.css">

    <!-- Add print stylesheet -->
    <link rel="stylesheet" href="print.css" media="print">

    <!-- Link to external JavaScript file -->
    <script src="script.js" defer></script>

    <!-- Add jsPDF library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        header {
            background-color: transparent !important;
            position: relative;
            z-index: 2;
        }
        header a h1 {
            text-shadow: 3px 3px 0px rgba(206, 0, 55, 0.7);
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div class="content">
        <header>
            <a href="#" onclick="resetSurvey(); return false;"><h1 data-translate="Edible">Edible</h1></a>
            <p class="subtitle" data-translate="Culinary Adventures for Young Chefs">Culinary Adventures for Young Chefs</p>
            <nav>
                <ul>
                    <li><button class="nav-btn" onclick="showSection('recipes')" data-translate="nav_recipes">Recipes</button></li>
                    <li><button class="nav-btn" onclick="showSection('cooks')" data-translate="nav_cooks">Cooks</button></li>
                    
                    <li><button class="nav-btn" onclick="showSection('questions')" data-translate="nav_questions">Questions</button></li>
                    <li><button class="nav-btn" onclick="showSection('documentation')" data-translate="nav_documentation">Documentation</button></li>
                </ul>
            </nav>
            <div class="language-selector">
                <select id="language-select">
                    <option value="en">English</option>
                    <option value="es">Español</option>
                    <option value="zh-CN">中文</option>
                    <option value="fr">Français</option>
                    <option value="hi">हिन्दी</option>
                    <option value="ru">Русский</option>
                </select>
            </div>
        </header>
        <main id="main-content">
            <div id="quiz" class="active">
                <div id="q1" class="question">
                    <h2 data-translate="q1_text">Have you ever cooked before?</h2>
                    <div class="options">
                        <button onclick="nextQuestion(1, 'yes')" data-translate="yes_option">Yes</button>
                        <button onclick="nextQuestion(1, 'no')" data-translate="no_option">No</button>
                    </div>
                </div>
                <div id="q2" class="question" style="display: none;">
                    <h2 data-translate="q2_text">Do you enjoy trying new foods?</h2>
                    <div class="options">
                        <button onclick="nextQuestion(2, 'yes')" data-translate="yes_option">Yes</button>
                        <button onclick="nextQuestion(2, 'no')" data-translate="no_option">No</button>
                    </div>
                </div>
                <div id="q3" class="question" style="display: none;">
                    <h2 data-translate="q3_text">How adventurous are you with food?</h2>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="5" class="slider" id="q3-slider" oninput="updateSliderValue(3, this.value)">
                        <p><span data-translate="slider_value_prefix">Value: </span><span id="q3-value">5</span></p>
                    </div>
                    <button class="done-btn" onclick="nextQuestion(3, document.getElementById('q3-slider').value)" data-translate="done_button">Done</button>
                </div>
                <div id="q4" class="question" style="display: none;">
                    <h2 data-translate="q4_text">How much do you like cooking?</h2>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="5" class="slider" id="q4-slider" oninput="updateSliderValue(4, this.value)">
                        <p><span data-translate="slider_value_prefix">Value: </span><span id="q4-value">5</span></p>
                    </div>
                    <button class="done-btn" onclick="nextQuestion(4, document.getElementById('q4-slider').value)" data-translate="done_button">Done</button>
                </div>
                <div id="q5" class="question" style="display: none;">
                    <h2 data-translate="q5_text">How confident are you in the kitchen?</h2>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="5" class="slider" id="q5-slider" oninput="updateSliderValue(5, this.value)">
                        <p><span data-translate="slider_value_prefix">Value: </span><span id="q5-value">5</span></p>
                    </div>
                    <button class="done-btn" onclick="nextQuestion(5, document.getElementById('q5-slider').value)" data-translate="done_button">Done</button>
                </div>
            </div>
            <div id="recipes" style="display: none;">
                <h2 data-translate="recipes_title">Our Recipes</h2>
                <div id="skill-level-container">
                    <h3 data-translate="skill_level_prompt">Select Your Skill Level</h3>
                    <input type="range" min="1" max="25" value="13" class="skill-level-slider" id="skill-level-slider" oninput="updateSkillLevelRecipes(this.value)">
                    <div class="skill-level-labels">
                        <span data-translate="skill_level_beginner">Beginner</span>
                        <span data-translate="skill_level_intermediate">Intermediate</span>
                        <span data-translate="skill_level_advanced">Advanced</span>
                    </div>
                </div>
                <div id="favorite-recipes-toggle">
                    <label>
                        <input type="checkbox" id="favorite-recipes-checkbox" onchange="toggleFavoriteRecipes()">
                        <span data-translate="show_favorite_recipes">Show Favorite Recipes</span>
                    </label>
                </div>
                <div id="recipe-list"></div>
            </div>
            <div id="suggestions" style="display: none;">
                <h2 data-translate="suggest_recipe_title">Suggest a Recipe</h2>
                <iframe 
                    src="https://docs.google.com/forms/d/e/1FAIpQLSeaer09DQu7nZCriGD82-cs4-ZG6b1LHCwOOYHxjjersEn2QA/viewform?embedded=true" 
                    width="100%" 
                    height="800" 
                    frameborder="0" 
                    marginheight="0" 
                    marginwidth="0">
                    Loading…
                </iframe>
            </div>
            <div id="equipment" style="display: none;">
                <h2 data-translate="equipment_title">Kids' Kitchen Equipment</h2>
                <div id="equipment-list" class="equipment-grid">
                    <!-- Equipment items will be dynamically added here -->
                </div>
            </div>
            <div id="cooks" style="display: none;">
                <h2 data-translate="cooks_title">Cooks</h2>
                <div class="chef-grid">
                    <div class="chef-card">
                        <div class="chef-avatar">
                            <svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2">
                                <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                            </svg>
                        </div>
                        <h3 class="chef-name" data-translate="chef1_name">Edible Chef</h3>
                        <p class="chef-title" data-translate="chef1_title">Head Chef</p>
                        <p class="chef-bio" data-translate="chef1_bio">Edible is the mascot of this website</p>
                    </div>
                    <div class="chef-card">
                        <div class="chef-avatar">
                            <svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2">
                                <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                            </svg>
                        </div>
                        <h3 class="chef-name" data-translate="chef2_name">Edible Bot</h3>
                        <p class="chef-title" data-translate="chef2_title">Sous Chef</p>
                        <p class="chef-bio" data-translate="chef2_bio">He is extremely smart and helps you cook</p>
                    </div>
                </div>
            </div>
            <div id="questions" style="display: none;">
                <h2 data-translate="questions_forum_title">Questions Forum</h2>
                <form id="question-form">
                    <div class="form-group">
                        <label for="name" data-translate="form_name_label">Your Name:</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">  
                        <label for="email" data-translate="form_email_label">Your Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="question" data-translate="form_question_label">Your Question:</label>
                        <textarea id="question" name="question" required></textarea>
                    </div>
                    <button type="submit" class="nav-btn" data-translate="form_send_button">Send Email</button>
                </form>
            </div>
            <div id="documentation" style="display: none;">
                <!-- Content will be dynamically inserted here, title translated in showDocumentation -->
            </div>
        </main>
        <div id="result-container" style="display: none;">
            <div id="result"></div> <!-- Content here is dynamic, will be translated in showResult -->
            <div id="recommended-dishes"></div>
            <!-- Button "Show Recommended Recipes" is added dynamically in showResult, needs translation there -->
        </div>
        <div id="recipe-container" style="display: none;">
            <!-- Selected recipe will be displayed here -->
        </div>
    </div>
    <button class="accessibility-button" onclick="toggleAccessibilityMenu()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="#003B5C">
            <circle cx="12" cy="12" r="10" stroke="#003B5C" stroke-width="2" fill="none"/>
            <circle cx="8" cy="9" r="1.5"/>
            <circle cx="16" cy="9" r="1.5"/>
            <path d="M7 14.5C7 14.5 9 17 12 17C15 17 17 14.5 17 14.5" stroke="#003B5C" stroke-width="2" fill="none"/>
        </svg>
    </button>

    <div class="accessibility-menu" id="accessibility-menu">
        <h3 data-translate="accessibility_title">Accessibility Options</h3>
        
        <div class="accessibility-option">
            <label data-translate="accessibility_tts_label">Text-to-Speech</label>
            <select id="tts-option" onchange="toggleTTS(this.value)">
                <option value="off" data-translate="accessibility_tts_off">Off</option>
                <option value="on" data-translate="accessibility_tts_on">On</option>
            </select>
        </div>
        
        <div class="accessibility-option">
            <label data-translate="accessibility_language_label">Language</label>
            <select id="language-option">
                <option value="en">English</option>
                <option value="es">Español</option>
                <option value="zh-CN">中文</option>
                <option value="fr">Français</option>
                <option value="hi">हिन्दी</option>
                <option value="ru">Русский</option>
            </select>
        </div>
        
        <div class="accessibility-option">
            <label data-translate="accessibility_font_label">Font Type</label>
            <select id="font-option" onchange="toggleDyslexicFont(this.value)">
                <option value="regular" data-translate="accessibility_font_regular">Regular</option>
                <option value="dyslexic" data-translate="accessibility_font_dyslexic">Comic Sans</option>
            </select>
        </div>
        
        <div class="accessibility-option">
            <label data-translate="accessibility_contrast_label">High Contrast</label>
            <select id="contrast-option" onchange="toggleHighContrast(this.value)">
                <option value="normal" data-translate="accessibility_contrast_normal">Normal</option>
                <option value="high" data-translate="accessibility_contrast_high">High Contrast</option>
            </select>
        </div>
        
        <div class="accessibility-option">
            <label data-translate="accessibility_text_size_label">Text Size</label>
            <input type="range" min="100" max="200" value="100" id="text-size" oninput="adjustTextSize(this.value)">
        </div>
    </div>

    <div class="arrow"></div>
    <div id="google_translate_element" style="display:none;"></div>
</body>
</html>
