<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edible - Recipes by kids made for kids</title>
    <link rel="icon" type="image/x-icon" href="favicon.png">

    <!-- Linking to GSAP and Particles.js libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <!-- Link to external CSS for styles -->
    <link rel="stylesheet" href="style.css">

    <!-- Link to external JavaScript file -->
    <script src="script.js" defer></script>

    <!-- Chatbot Styles -->
    <style>
        .edible-chatbot {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
        }

        .chatbot-toggle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FFC72C 0%, #CE0037 100%);
            border: 3px solid #fff;
            color: #fff;
            font-weight: bold;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        .chatbot-window {
            position: fixed;
            top: 110px;
            left: 20px;
            width: 350px;
            height: 500px;
            background: rgba(0, 59, 92, 0.95);
            border-radius: 15px;
            border: 2px solid #FFC72C;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            display: none;
            flex-direction: column;
            backdrop-filter: blur(10px);
        }

        .chatbot-window.open {
            display: flex;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chatbot-header {
            background: linear-gradient(135deg, #FFC72C 0%, #CE0037 100%);
            color: white;
            padding: 15px;
            border-radius: 13px 13px 0 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chatbot-header h3 {
            margin: 0;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 0;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }

        .chatbot-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .chatbot-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .chatbot-message {
            max-width: 80%;
            padding: 10px 12px;
            border-radius: 15px;
            font-size: 14px;
            line-height: 1.4;
        }

        .chatbot-message.user {
            background: linear-gradient(135deg, #FFC72C 0%, #CE0037 100%);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .chatbot-message.assistant {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }

        .chatbot-input-area {
            padding: 15px;
            border-top: 1px solid rgba(255, 199, 44, 0.3);
        }

        .chatbot-input-form {
            display: flex;
            gap: 10px;
        }

        .chatbot-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #FFC72C;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 14px;
        }

        .chatbot-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .chatbot-input:focus {
            outline: none;
            border-color: #CE0037;
            background: rgba(255, 255, 255, 0.15);
        }

        .chatbot-send {
            background: linear-gradient(135deg, #FFC72C 0%, #CE0037 100%);
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }

        .chatbot-send:hover {
            transform: scale(1.05);
        }

        .chatbot-send:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .chatbot-welcome {
            text-align: center;
            color: #FFC72C;
            padding: 20px;
        }

        .chatbot-welcome h4 {
            margin: 0 0 10px 0;
            color: #FFC72C;
        }

        .chatbot-welcome p {
            margin: 5px 0;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.8);
        }

        .chatbot-examples {
            background: rgba(255, 199, 44, 0.1);
            border-radius: 10px;
            padding: 10px;
            margin-top: 10px;
            font-size: 12px;
        }

        .chatbot-examples strong {
            color: #FFC72C;
        }

        .chatbot-loading {
            display: flex;
            gap: 4px;
            padding: 10px 12px;
        }

        .chatbot-loading-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #FFC72C;
            animation: loadingBounce 1.4s infinite ease-in-out;
        }

        .chatbot-loading-dot:nth-child(1) { animation-delay: -0.32s; }
        .chatbot-loading-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes loadingBounce {
            0%, 80%, 100% {
                transform: scale(0);
            }
            40% {
                transform: scale(1);
            }
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .chatbot-window {
                width: calc(100vw - 40px);
                height: 400px;
                top: 110px;
                left: 20px;
                right: 20px;
            }
            
            .chatbot-toggle {
                width: 70px;
                height: 70px;
                font-size: 11px;
            }
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div class="content">
        <header>
            <a href="#" onclick="resetSurvey(); return false;"><h1>Edible</h1></a>
            <p class="subtitle">Culinary Adventures for Young Chefs</p>
            <nav>
                <ul>
                    <li><button class="nav-btn" onclick="showSection('recipes')">Recipes</button></li>
                    <li><button class="nav-btn" onclick="showSection('recipe-finder')">Recipe Finder</button></li>
                    <li><button class="nav-btn" onclick="showSection('cooking-tips')">Cooking Tips</button></li>
                    <li><button class="nav-btn" onclick="showSection('questions')">Questions</button></li>
                    <li><button class="nav-btn" onclick="showDocumentation()">Documentation</button></li>
                </ul>
            </nav>
            <div class="language-selector">
                <select id="language-select">
                    <option value="en">English</option>
                    <option value="es">Espa&#xf1;ol</option>
                    <option value="zh-CN">&#x4e2d;&#x6587;</option>
                    <option value="fr">Fran&#xe7;ais</option>
                    <option value="hi">&#x939;&#x93f;&#x902;&#x926;&#x940;</option>
                    <option value="ru">&#x420;&#x443;&#x441;&#x441;&#x43a;&#x438;&#x439;</option>
                </select>
            </div>
        </header>
        <main id="main-content">
            <div id="quiz">
                <div id="q1" class="question">
                    <h2>Have you ever cooked before?</h2>
                    <div class="options">
                        <button onclick="nextQuestion(1, 'yes')">Yes</button>
                        <button onclick="nextQuestion(1, 'no')">No</button>
                    </div>
                </div>
                <div id="q2" class="question" style="display: none;">
                    <h2>Do you enjoy trying new foods?</h2>
                    <div class="options">
                        <button onclick="nextQuestion(2, 'yes')">Yes</button>
                        <button onclick="nextQuestion(2, 'no')">No</button>
                    </div>
                </div>
                <div id="q3" class="question" style="display: none;">
                    <h2>How adventurous are you with food?</h2>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="5" class="slider" id="q3-slider" oninput="updateSliderValue(3, this.value)">
                        <p>Value: <span id="q3-value">5</span></p>
                    </div>
                    <button class="done-btn" onclick="nextQuestion(3, document.getElementById('q3-slider').value)">Done</button>
                </div>
                <div id="q4" class="question" style="display: none;">
                    <h2>How much do you like cooking?</h2>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="5" class="slider" id="q4-slider" oninput="updateSliderValue(4, this.value)">
                        <p>Value: <span id="q4-value">5</span></p>
                    </div>
                    <button class="done-btn" onclick="nextQuestion(4, document.getElementById('q4-slider').value)">Done</button>
                </div>
                <div id="q5" class="question" style="display: none;">
                    <h2>How confident are you in the kitchen?</h2>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="5" class="slider" id="q5-slider" oninput="updateSliderValue(5, this.value)">
                        <p>Value: <span id="q5-value">5</span></p>
                    </div>
                    <button class="done-btn" onclick="nextQuestion(5, document.getElementById('q5-slider').value)">Done</button>
                </div>
            </div>
            <div id="recipes" style="display: none;">
                <h2>Our Recipes</h2>
                <div id="search-container">
                    <button id="filter-toggle" class="filter-toggle" onclick="toggleFilterSidebar()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="4" y1="6" x2="20" y2="6"></line>
                            <line x1="4" y1="12" x2="20" y2="12"></line>
                            <line x1="4" y1="18" x2="20" y2="18"></line>
                        </svg>
                    </button>
                    <input type="text" id="search-input" placeholder="Search recipes..." oninput="searchRecipes()">
                </div>
                
                <!-- Filter Sidebar -->
                <div id="filter-sidebar" class="filter-sidebar">
                    <button class="close-sidebar" onclick="toggleFilterSidebar()">&times;</button>
                    <h3>Filter Recipes</h3>
                    
                    <div class="filter-section">
                        <h4>Skill Level</h4>
                        <select id="skill-level-filter" onchange="searchRecipes()">
                            <option value="">All Skill Levels</option>
                            <option value="Beginner">Beginner</option>
                            <option value="Intermediate">Intermediate</option>
                            <option value="Master">Master</option>
                        </select>
                    </div>
                    
                    <div class="filter-section">
                        <h4>Ingredients</h4>
                        <div id="ingredient-checkboxes" class="scrollable-checkboxes"></div>
                    </div>
                    
                    <div class="filter-section">
                        <h4>Sort By</h4>
                        <select id="sort-filter" onchange="searchRecipes()">
                            <option value="name">Name (A-Z)</option>
                            <option value="difficulty">Difficulty</option>
                            <option value="ingredients">Fewest Ingredients</option>
                        </select>
                    </div>
                    
                    <button class="apply-filters" onclick="applyFilters()">Apply Filters</button>
                </div>
                
                <div id="recipe-list"></div>
            </div>
            <div id="suggestions" style="display: none;">
                <h2>Suggest a Recipe</h2>
                <iframe 
                    src="https://docs.google.com/forms/d/e/1FAIpQLSeaer09DQu7nZCriGD82-cs4-ZG6b1LHCwOOYHxjjersEn2QA/viewform?embedded=true" 
                    width="100%" 
                    height="800" 
                    frameborder="0" 
                    marginheight="0" 
                    marginwidth="0">
                    Loading‚Ä¶
                </iframe>
            </div>
            <div id="cooking-tips" style="display: none;">
                <h2>Cooking Tips & Articles</h2>
                <div class="tips-container">
                    <div class="tip-card">
                        <h3>Knife Skills 101</h3>
                        <p>Learn proper knife techniques to make cooking safer and more efficient. Always curl your fingertips under when holding food to protect them from the blade.</p>
                    </div>
                    <div class="tip-card">
                        <h3>Measuring Ingredients</h3>
                        <p>For dry ingredients, fill and level with a straight edge. For liquids, read at eye level on a flat surface to ensure accuracy.</p>
                    </div>
                    <div class="tip-card">
                        <h3>Salt as You Go</h3>
                        <p>Add salt throughout the cooking process rather than all at once at the end. This builds flavor in layers.</p>
                    </div>
                    <div class="tip-card">
                        <h3>Rest Your Meat</h3>
                        <p>Let meat rest after cooking to allow juices to redistribute. For steaks, rest about 5 minutes.</p>
                    </div>
                    <div class="tip-card">
                        <h3>Prep Before Cooking</h3>
                        <p>Read the recipe completely and prep all ingredients before you start cooking. This is called "mise en place" and makes cooking much smoother.</p>
                    </div>
                    <div class="tip-card">
                        <h3>Control Heat</h3>
                        <p>Different cooking methods require different heat levels. Low and slow for tough meats, high heat for searing.</p>
                    </div>
                    <div class="tip-card featured-article">
                        <h3>The Top 5 Best Cooking Equipment!</h3>
                        <img src="https://cdn.pixabay.com/photo/2016/12/26/17/28/spaghetti-1932466_1280.jpg" alt="Professional cooking equipment">
                        <div class="article-content">
                            <p>Having the right tools can make all the difference in your cooking journey. Here are our top 5 essential cooking equipment picks that every young chef should have:</p>
                            
                            <h4>1. Chef's Knife</h4>
                            <img src="https://cdn.pixabay.com/photo/2016/03/31/19/23/knife-1294965_1280.jpg" alt="Chef's Knife">
                            <p>A good chef's knife is the foundation of any kitchen. Look for one that feels comfortable in your hand. For young chefs, consider a smaller 6-inch knife that's easier to control.</p>
                            
                            <h4>2. Mixing Bowls Set</h4>
                            <img src="https://cdn.pixabay.com/photo/2015/09/09/21/33/cooking-933841_1280.jpg" alt="Mixing Bowls">
                            <p>A set of different sized mixing bowls is essential for preparing ingredients, mixing batters, and tossing salads. Stainless steel bowls are durable and lightweight.</p>
                            
                            <h4>3. Measuring Cups and Spoons</h4>
                            <img src="https://cdn.pixabay.com/photo/2017/07/31/17/45/measuring-spoons-2559284_1280.jpg" alt="Measuring Tools">
                            <p>Precise measurements are crucial in cooking and especially in baking. A good set of measuring cups for dry ingredients and a liquid measuring cup with clear markings will help you follow recipes accurately.</p>
                            
                            <h4>4. Non-Stick Pan</h4>
                            <img src="https://cdn.pixabay.com/photo/2021/01/10/08/03/frying-pan-5904042_1280.jpg" alt="Non-stick Pan">
                            <p>A quality non-stick pan makes cooking eggs, pancakes, and delicate foods much easier. Look for one with a sturdy handle that stays cool during cooking.</p>
                            
                            <h4>5. Digital Timer</h4>
                            <img src="https://cdn.pixabay.com/photo/2017/01/09/12/49/timer-1966761_1280.jpg" alt="Kitchen Timer">
                            <p>Never overcook again! A digital timer helps you keep track of cooking times precisely. Many young chefs find that timing is one of the most challenging aspects of cooking.</p>
                            
                            <p>Remember, you don't need to buy everything at once. Start with these basics and add more equipment as you develop your cooking skills and try new recipes!</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="cooks" style="display: none;">
                <h2>Cooks</h2>
                <div class="chef-grid">
                    <div class="chef-card">
                        <div class="chef-avatar">
                            <svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2">
                                <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                            </svg>
                        </div>
                        <h3 class="chef-name">John Doe</h3>
                        <p class="chef-title">Head Chef</p>
                        <p class="chef-bio">John has been cooking for over 10 years and has a passion for creating new recipes.</p>
                    </div>
                    <div class="chef-card">
                        <div class="chef-avatar">
                            <svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2">
                                <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                            </svg>
                        </div>
                        <h3 class="chef-name">Jane Doe</h3>
                        <p class="chef-title">Sous Chef</p>
                        <p class="chef-bio">Jane is a skilled chef with a focus on creating delicious and healthy meals.</p>
                    </div>
                </div>
            </div>
            <div id="questions" style="display: none;">
                <h2>Questions Forum</h2>
                <form id="question-form">
                    <div class="form-group">
                        <label for="name">Your Name:</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">  
                        <label for="email">Your Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="question">Your Question:</label>
                        <textarea id="question" name="question" required></textarea>
                    </div>
                    <button type="submit" class="nav-btn">Send Email</button>
                </form>
            </div>
            <div id="documentation" style="display: none;">
                <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vRQVW5HriT-ggSWD8nPClE2x41raBzSf9JFR1fxUWqky7LrLL7tHankodr89jNXBUt-gOYzyGuJdty6/pubembed?start=true&loop=false&delayms=3000" frameborder="0" width="797" height="1085" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
            </div>
            <div id="recipe-finder" style="display: none;">
                <h2>Recipe Finder</h2>
                <p>Let us help you find recipes with ingredients you have on hand.</p>
                <div id="ingredients-survey">
                    <h3>What ingredients do you have?</h3>
                    <div id="ingredient-questions"></div>
                </div>
                <div id="finder-results" style="display: none;"></div>
            </div>
        </main>
        <div id="result-container" style="display: none;">
            <div id="result"></div>
            <div id="recommended-dishes"></div>
            <button class="nav-btn" onclick="showRecommendedRecipes()">Show Recommended Recipes</button>
        </div>
        <div id="recipe-container" style="display: none;">
            <!-- Selected recipe will be displayed here -->
        </div>
    </div>

    <!-- Edible AI Chatbot -->
    <div class="edible-chatbot">
        <button class="chatbot-toggle" onclick="toggleChatbot()">
            CHAT
        </button>
        
        <div class="chatbot-window" id="chatbot-window">
            <div class="chatbot-header">
                <h3>üç≥ Edible Assistant</h3>
                <button class="chatbot-close" onclick="toggleChatbot()">&times;</button>
            </div>
            
            <div class="chatbot-messages" id="chatbot-messages">
                <div class="chatbot-welcome">
                    <h4>Welcome to Edible! üë®‚Äçüç≥</h4>
                    <p>I know all 100+ recipes, cooking tips, and can help you navigate our platform!</p>
                    <div class="chatbot-examples">
                        <strong>Try asking:</strong><br>
                        ‚Ä¢ "What beginner recipes do you have?"<br>
                        ‚Ä¢ "Show me Mexican dishes"<br>
                        ‚Ä¢ "How do I filter recipes?"<br>
                        ‚Ä¢ "Tell me about Butter Chicken"
                    </div>
                </div>
            </div>
            
            <div class="chatbot-input-area">
                <form class="chatbot-input-form" onsubmit="sendChatMessage(event)">
                    <input 
                        type="text" 
                        class="chatbot-input" 
                        id="chatbot-input"
                        placeholder="Ask about recipes, cooking tips..."
                        required
                    >
                    <button type="submit" class="chatbot-send" id="chatbot-send">Send</button>
                </form>
            </div>
        </div>
    </div>

    <button class="accessibility-button" onclick="toggleAccessibilityMenu()" aria-label="Accessibility Options">
        A11Y
        <span class="sr-only">Accessibility Options</span>
    </button>

    <div class="accessibility-menu" id="accessibility-menu">
        <h3>Accessibility Options</h3>
        
        <div class="accessibility-option">
            <label>Text-to-Speech</label>
            <select id="tts-option" onchange="toggleTTS(this.value)">
                <option value="off">Off</option>
                <option value="on">On</option>
            </select>
        </div>
        
        <div class="accessibility-option">
            <label>Language</label>
            <select id="language-option">
                <option value="en">English</option>
                <option value="es">Espa√±ol</option>
                <option value="zh-CN">‰∏≠Êñá</option>
                <option value="fr">Fran√ßais</option>
                <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
            </select>
        </div>
        
        <div class="accessibility-option">
            <label>Font Type</label>
            <select id="font-option" onchange="toggleDyslexicFont(this.value)">
                <option value="regular">Regular</option>
                <option value="dyslexic">Comic Sans</option>
            </select>
        </div>
        
        <div class="accessibility-option">
            <label>High Contrast</label>
            <select id="contrast-option" onchange="toggleHighContrast(this.value)">
                <option value="normal">Normal</option>
                <option value="high">High Contrast</option>
            </select>
        </div>
        
        <div class="accessibility-option">
            <label>Text Size</label>
            <input type="range" min="100" max="200" value="100" id="text-size" oninput="adjustTextSize(this.value)">
        </div>
    </div>

    <div class="arrow"></div>
    <div id="google_translate_element" style="display:none;"></div>

    <!-- Chatbot JavaScript -->
    <script>
        let chatbotOpen = false;
        let chatMessages = [];

        function toggleChatbot() {
            const window = document.getElementById('chatbot-window');
            chatbotOpen = !chatbotOpen;
            
            if (chatbotOpen) {
                window.classList.add('open');
            } else {
                window.classList.remove('open');
            }
        }

        async function sendChatMessage(event) {
            event.preventDefault();
            
            const input = document.getElementById('chatbot-input');
            const sendButton = document.getElementById('chatbot-send');
            const messagesContainer = document.getElementById('chatbot-messages');
            
            const message = input.value.trim();
            if (!message) return;
            
            // Clear welcome message if it's the first message
            if (chatMessages.length === 0) {
                messagesContainer.innerHTML = '';
            }
            
            // Add user message
            addChatMessage('user', message);
            input.value = '';
            sendButton.disabled = true;
            
            // Add loading indicator
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'chatbot-message assistant';
            loadingDiv.innerHTML = '<div class="chatbot-loading"><div class="chatbot-loading-dot"></div><div class="chatbot-loading-dot"></div><div class="chatbot-loading-dot"></div></div>';
            messagesContainer.appendChild(loadingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            try {
                // Simulate AI response (replace with actual API call)
                const response = await getChatbotResponse(message);
                
                // Remove loading indicator
                messagesContainer.removeChild(loadingDiv);
                
                // Add AI response
                addChatMessage('assistant', response);
            } catch (error) {
                // Remove loading indicator
                messagesContainer.removeChild(loadingDiv);
                addChatMessage('assistant', "I'm sorry, I'm having trouble connecting right now. For complex questions, please visit the Questions page in the navbar to submit your question directly!");
            }
            
            sendButton.disabled = false;
        }

        function addChatMessage(role, content) {
            const messagesContainer = document.getElementById('chatbot-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chatbot-message ${role}`;
            messageDiv.textContent = content;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            chatMessages.push({ role, content });
        }

        async function getChatbotResponse(message) {
            // This is a simplified response system
            // In a real implementation, you'd call your AI API here
            
            const lowerMessage = message.toLowerCase();
            
            // Recipe-related responses
            if (lowerMessage.includes('recipe') || lowerMessage.includes('cook') || lowerMessage.includes('dish')) {
                if (lowerMessage.includes('beginner') || lowerMessage.includes('easy')) {
                    return "Great! For beginners, I recommend starting with simple recipes like:\n\n‚Ä¢ Scrambled Eggs\n‚Ä¢ Grilled Cheese\n‚Ä¢ Fruit Smoothie\n‚Ä¢ Avocado Toast\n‚Ä¢ Simple Pasta\n\nYou can find these in the Recipes section with the 'Beginner' filter!";
                }
                if (lowerMessage.includes('mexican')) {
                    return "¬°Delicioso! We have amazing Mexican recipes:\n\n‚Ä¢ Basic Tacos\n‚Ä¢ Enchiladas\n‚Ä¢ Guacamole\n‚Ä¢ Quesadillas\n‚Ä¢ Pozole\n\nUse the ingredient filter to find recipes with specific Mexican ingredients!";
                }
                if (lowerMessage.includes('dessert') || lowerMessage.includes('sweet')) {
                    return "Sweet treats coming up! Try these desserts:\n\n‚Ä¢ Chocolate Chip Cookies\n‚Ä¢ Brownies\n‚Ä¢ Banana Bread\n‚Ä¢ Vanilla Cupcakes\n‚Ä¢ Homemade Ice Cream\n\nPerfect for young bakers!";
                }
                if (lowerMessage.includes('butter chicken')) {
                    return "Butter Chicken is one of our popular Indian recipes! It's an Intermediate level dish with ingredients like chicken, tomato puree, cream, butter, garlic, and garam masala. You'll find the full recipe with step-by-step instructions in our Recipes section!";
                }
                return "I know all 100+ recipes on Edible! You can browse them in the Recipes section, use filters by skill level or ingredients, or try our Recipe Finder to get suggestions based on what you have at home. What type of cuisine interests you?";
            }
            
            // Navigation help
            if (lowerMessage.includes('filter') || lowerMessage.includes('search')) {
                return "To filter recipes:\n\n1. Go to the Recipes section\n2. Click the filter button (‚ò∞) next to the search bar\n3. Choose your skill level (Beginner/Intermediate/Master)\n4. Select ingredients you have\n5. Pick how to sort results\n\nYou can also use the search bar to find specific recipes!";
            }
            
            if (lowerMessage.includes('recipe finder')) {
                return "The Recipe Finder is perfect for using ingredients you already have! It asks you about 20 common ingredients, then suggests recipes that match at least 60% of what you have. Just click 'Recipe Finder' in the navigation!";
            }
            
            // Cooking tips
            if (lowerMessage.includes('tip') || lowerMessage.includes('advice') || lowerMessage.includes('help')) {
                return "Check out our Cooking Tips section for great advice like:\n\n‚Ä¢ Knife Skills 101\n‚Ä¢ Measuring Ingredients properly\n‚Ä¢ Salt as You Go technique\n‚Ä¢ Prep Before Cooking (mise en place)\n‚Ä¢ Heat Control basics\n\nPlus our featured article on essential cooking equipment!";
            }
            
            // Questions page direction
            if (lowerMessage.includes('question') || lowerMessage.includes('ask') || lowerMessage.includes('help')) {
                return "For detailed questions or if you need more help, visit the Questions page in the navbar! You can submit your cooking questions there and get personalized assistance.";
            }
            
            // Default response
            return "I'm here to help with recipes, cooking tips, and navigating Edible! I know about all our 100+ recipes from different cuisines. Try asking about specific recipes, cooking techniques, or how to use our website features. For complex questions, visit the Questions page!";
        }

        // Close chatbot when clicking outside
        document.addEventListener('click', function(event) {
            const chatbot = document.querySelector('.edible-chatbot');
            const window = document.getElementById('chatbot-window');
            
            if (chatbotOpen && !chatbot.contains(event.target)) {
                window.classList.remove('open');
                chatbotOpen = false;
            }
        });
    </script>
</body>
</html>
